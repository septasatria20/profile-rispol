import{X as F,r,G as Q,j as e,S as L}from"./app-DhTaVprb.js";import{N as B,F as K}from"./Footer-JBhFgS_g.js";import{c}from"./createLucideIcon-cOwwJhFR.js";import{C as w}from"./check-BbUdyalA.js";import"./x-CnYLKYey.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],G=c("circle-alert",V);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],O=c("copy",H);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],J=c("credit-card",W);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],X=c("heart",U);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Z=c("qr-code",Y);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],te=c("quote",ee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ae=c("wallet",se),le=({type:x="success",message:m,onClose:a})=>{if(!m)return null;const l=x==="success";return e.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-3 rounded-xl border bg-white px-4 py-3 shadow-xl text-sm",children:[e.jsx("div",{className:`flex h-7 w-7 items-center justify-center rounded-full ${l?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:l?e.jsx(w,{size:16}):e.jsx(G,{size:16})}),e.jsx("span",{className:"max-w-xs text-slate-700",children:m}),e.jsx("button",{onClick:a,className:"ml-2 text-slate-400 hover:text-slate-700",children:"âœ•"})]})};function xe({campaigns:x=[],paymentMethods:m={qris:null,banks:[]},donors:a=[],donationPosters:l=[],infoPosters:ne=[]}){const{flash:d={}}=F().props,[D,b]=r.useState(1),[j,y]=r.useState(0),[_,C]=r.useState(0),[h,p]=r.useState("qris"),[S,N]=r.useState(null),[f,u]=r.useState({type:"success",message:""}),{data:i,setData:o,post:I,processing:v,errors:n,reset:R,transform:z}=Q({name:"",email:"",amount:"",campaign:x.length?x[0].name:"",message:"",payment_proof:null});r.useEffect(()=>{d.success?u({type:"success",message:d.success}):d.error&&u({type:"error",message:d.error})},[d.success,d.error]),r.useEffect(()=>{if(!l||l.length<=1)return;const t=setInterval(()=>y(s=>(s+1)%l.length),5e3);return()=>clearInterval(t)},[l]),r.useEffect(()=>{if(!a.length)return;const t=setInterval(()=>C(s=>(s+1)%a.length),4e3);return()=>clearInterval(t)},[a.length]);const M=()=>{if(!a||a.length===0)return[];const t=[],s=Math.min(3,a.length);for(let g=0;g<s;g++){const E=(_+g)%a.length;t.push(a[E])}return t},q=(t,s)=>{navigator.clipboard.writeText(t),N(s),setTimeout(()=>N(null),2e3)},A=t=>t?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t):"Rp 0",$=()=>{if(!i.name||!i.amount){u({type:"error",message:"Isi minimal nama dan nominal donasi terlebih dahulu ya ðŸ™‚"});return}b(2)},T=t=>{t.preventDefault(),z(s=>({...s,payment_method:h})),I("/donasi",{onSuccess:()=>{R(),b(1),p("qris")},forceFormData:!0})},k=m.banks||[],P=m.qris||"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/QR_code_for_mobile_English_Wikipedia.svg/1200px-QR_code_for_mobile_English_Wikipedia.svg.png";return e.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-800",children:[e.jsx(L,{title:"Donasi"}),e.jsx(B,{}),e.jsx(le,{type:f.type,message:f.message,onClose:()=>u({...f,message:""})}),e.jsxs("main",{className:"pt-24",children:[e.jsxs("section",{className:"relative h-[400px] w-full overflow-hidden bg-slate-900 md:h-[500px]",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?q=80&w=1200&auto=format&fit=crop",alt:"Donasi RISPOL",className:"h-full w-full object-cover opacity-60"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent"})]}),e.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center px-4 text-center",children:[e.jsx("span",{className:"mb-4 rounded-full bg-amber-500 px-4 py-1 text-sm font-bold text-white",children:"MARI BERBAGI"}),e.jsx("h1",{className:"mb-6 text-4xl font-serif font-bold text-white md:text-6xl",children:"Investasi Akhirat Terbaik"}),e.jsx("p",{className:"max-w-2xl text-lg text-slate-200",children:'"Perumpamaan orang yang menginfakkan hartanya di jalan Allah seperti sebutir biji yang menumbuhkan tujuh tangkai, pada setiap tangkai ada seratus biji." (QS. Al-Baqarah: 261)'})]})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 mb-12 items-start",children:[e.jsx("div",{children:D===1?e.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-8 shadow-xl h-full",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"flex items-center gap-2 text-2xl font-bold text-slate-900",children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-blue-600 text-xs font-bold text-white",children:"1"}),"Isi Data Donasi"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Langkah 1: Isi data diri dan nominal donasi."})]}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Formulir Donasi"})]}),e.jsxs("form",{className:"space-y-6",onSubmit:t=>t.preventDefault(),children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-slate-700",children:"Tujuan Donasi"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:x.map(t=>e.jsx("button",{type:"button",onClick:()=>o("campaign",t.name),className:`rounded-xl border p-3 text-left text-sm transition-all ${i.campaign===t.name?"border-blue-500 bg-blue-50 font-bold text-blue-700":"border-slate-200 hover:border-blue-300"}`,children:t.name},t.id))}),n.campaign&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.campaign})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-slate-700",children:"Nama Lengkap"}),e.jsx("input",{type:"text",value:i.name,onChange:t=>o("name",t.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-sm outline-none transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-200",placeholder:"Hamba Allah"}),n.name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-slate-700",children:"Email (Opsional)"}),e.jsx("input",{type:"email",value:i.email,onChange:t=>o("email",t.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-sm outline-none transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-200",placeholder:"email@contoh.com"}),n.email&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-slate-700",children:"Nominal Donasi (Rp)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-sm font-bold text-slate-500",children:"Rp"}),e.jsx("input",{type:"number",value:i.amount,onChange:t=>o("amount",t.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 pl-12 text-lg font-bold outline-none transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-200",placeholder:"0",min:"10000"})]}),n.amount&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.amount}),e.jsx("div",{className:"mt-3 flex gap-2 overflow-x-auto pb-2",children:[1e4,2e4,5e4,1e5,5e5].map(t=>e.jsx("button",{type:"button",onClick:()=>o("amount",t),className:"whitespace-nowrap rounded-full border border-slate-200 px-4 py-1.5 text-sm font-medium hover:bg-slate-100",children:A(t)},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-slate-700",children:"Doa & Harapan"}),e.jsx("textarea",{rows:3,value:i.message,onChange:t=>o("message",t.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-sm outline-none transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-200",placeholder:"Tuliskan doa atau harapan Anda..."}),n.message&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.message})]}),e.jsx("button",{type:"button",onClick:$,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-blue-600 py-3 text-sm font-bold text-white shadow-md transition-all hover:bg-blue-700",children:"Lanjut ke Metode Pembayaran"})]})]}):e.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-8 shadow-xl h-full",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"flex items-center gap-2 text-xl font-bold text-slate-900",children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-emerald-600 text-xs font-bold text-white",children:"2"}),"Pilih Metode Pembayaran"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Langkah 2: Pilih metode, lakukan transfer, lalu upload bukti transfer."})]}),e.jsx("button",{type:"button",onClick:()=>b(1),className:"text-xs text-blue-600 hover:underline",children:"â† Kembali ke data donasi"})]}),e.jsxs("div",{className:"mb-6 inline-flex rounded-full bg-slate-100 p-1",children:[e.jsxs("button",{type:"button",onClick:()=>p("qris"),className:`flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold transition-all ${h==="qris"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-800"}`,children:[e.jsx(Z,{size:16}),e.jsx("span",{children:"QRIS"})]}),e.jsxs("button",{type:"button",onClick:()=>p("bank"),className:`ml-1 flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold transition-all ${h==="bank"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-800"}`,children:[e.jsx(J,{size:16}),e.jsx("span",{children:"Transfer Rekening"})]})]}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[h==="qris"&&e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"mb-2 text-base font-bold text-slate-900",children:"Scan QRIS"}),e.jsx("p",{className:"mb-4 text-xs text-slate-500",children:'Gunakan aplikasi e-wallet atau mobile banking untuk memindai kode QR di bawah ini. Setelah transfer, upload bukti transfer dan klik "Kirim Donasi".'}),e.jsx("div",{className:"inline-block rounded-xl border-2 border-slate-900 bg-white p-4",children:e.jsx("img",{src:P,alt:"QRIS Code",className:"h-48 w-48 object-contain"})})]}),h==="bank"&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 text-base font-bold text-slate-900",children:"Transfer ke Rekening Berikut"}),e.jsx("p",{className:"mb-4 text-xs text-slate-500",children:'Pilih salah satu rekening dan lakukan transfer sesuai nominal yang Anda isi. Setelah itu, upload bukti transfer dan klik "Kirim Donasi".'}),k.length===0&&e.jsx("p",{className:"text-sm text-slate-500",children:"Rekening donasi belum diatur."}),e.jsx("div",{className:"space-y-4",children:k.map((t,s)=>e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 transition-colors hover:border-blue-300",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-slate-800",children:t.bank}),e.jsx("span",{className:"rounded bg-slate-200 px-2 py-1 text-xs font-bold text-slate-600",children:t.holder})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white p-3",children:[e.jsx("span",{className:"font-mono text-lg font-bold tracking-wide text-slate-700",children:t.number}),e.jsx("button",{type:"button",onClick:()=>q(t.number,`bank-${s}`),className:"rounded-md p-1.5 text-blue-600 transition-all hover:bg-blue-50 hover:text-blue-800",title:"Salin Nomor Rekening",children:S===`bank-${s}`?e.jsx(w,{size:18}):e.jsx(O,{size:18})})]})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-slate-700",children:"Upload Bukti Transfer *"}),e.jsx("input",{type:"file",onChange:t=>o("payment_proof",t.target.files[0]),className:"w-full rounded-lg border border-slate-200 px-4 py-3 text-sm outline-none focus:border-blue-500",accept:"image/*",required:!0}),n.payment_proof&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.payment_proof}),e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Format: JPG/PNG, maksimal 2MB."})]}),e.jsxs("button",{type:"submit",disabled:v,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-emerald-600 py-3 text-sm font-bold text-white shadow-md transition-all hover:bg-emerald-700 disabled:opacity-60",children:[e.jsx(X,{size:18}),v?"Mengirim Donasi...":"Kirim Donasi"]})]})]})}),e.jsx("div",{className:"lg:sticky lg:top-24 lg:self-start",children:l&&l.length>0&&e.jsx("div",{className:"flex justify-center lg:justify-start",children:e.jsx("div",{className:"relative overflow-hidden rounded-2xl border border-slate-100 bg-white shadow-lg w-full max-w-xl",children:e.jsxs("div",{className:"relative aspect-[3/4] w-full",children:[l.map((t,s)=>e.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${s===j?"opacity-100":"opacity-0"}`,children:e.jsx("img",{src:t,alt:`Poster Donasi ${s+1}`,className:"h-full w-full object-contain bg-white p-2"})},s)),l.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:l.map((t,s)=>e.jsx("button",{onClick:()=>y(s),className:`h-2 rounded-full transition-all duration-300 ${s===j?"w-8 bg-amber-500":"w-2 bg-slate-400/50 hover:bg-slate-600"}`},s))})]})})})})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-6 shadow-lg",children:[e.jsxs("h3",{className:"mb-4 flex items-center gap-2 text-lg font-bold text-slate-800",children:[e.jsx(ae,{className:"text-emerald-500"})," Para Donatur"]}),(!a||a.length===0)&&e.jsx("p",{className:"text-sm text-slate-500",children:"Belum ada donasi yang ditampilkan."}),a&&a.length>0&&e.jsx("div",{className:"space-y-3 transition-all duration-500",children:M().map((t,s)=>e.jsxs("div",{className:"flex items-start gap-4 rounded-xl border border-slate-100 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-blue-100 text-sm font-bold text-blue-600",children:t.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-800",children:t.name}),e.jsx("span",{className:"text-sm font-bold text-emerald-600",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.amount)})]}),t.message&&e.jsxs("p",{className:"mt-1 line-clamp-1 text-xs italic text-slate-500",children:['"',t.message,'"']})]})]},s))})]}),e.jsx("div",{className:"flex h-full justify-start",children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 to-cyan-600 p-6 text-white shadow-lg h-full min-h-[260px] w-full max-w-lg",children:[e.jsx(te,{className:"absolute right-4 top-4 h-16 w-16 rotate-180 text-white/20"}),e.jsx("h3",{className:"relative z-10 mb-4 text-2xl font-serif font-bold",children:"Jazakumullah Khairan Katsiran"}),e.jsx("p",{className:"relative z-10 leading-relaxed text-blue-100",children:"Terima kasih atas donasi yang telah Anda berikan. Semoga Allah membalas kebaikan Anda dengan pahala yang berlipat ganda, menjadi amal jariyah, dan pembuka pintu rezeki yang berkah. Aamiin."}),e.jsxs("div",{className:"relative z-10 mt-6 flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 font-bold",children:"R"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Pengurus RISPOL"}),e.jsx("p",{className:"text-xs text-blue-200",children:"Politeknik Negeri Malang"})]})]})]})})]})]})]}),e.jsx(K,{})]})}export{xe as default};
